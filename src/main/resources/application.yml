# 服务器配置
server:
  port: 8080

# Spring配置
spring:
  application:
    name: study-planner

  # 数据库配置
  datasource:
    url: jdbc:mysql://localhost:3306/study_planner?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai&useSSL=false&allowPublicKeyRetrieval=true
    username: root
    password: "root" # MySQL密码
    driver-class-name: com.mysql.cj.jdbc.Driver

  # 静态资源配置
  web:
    resources:
      static-locations: classpath:/static/

  # Session配置
  session:
    store-type: none
    timeout: 30m

  # 邮件配置（SMTP）- 取消注释并填写正确的配置即可启用邮件提醒
  mail:
    host: smtp.qq.com # QQ邮箱SMTP服务器，其他邮箱请修改
    port: 587
    username: 123456789@qq.com # 发送邮件的邮箱地址（请修改为你的邮箱）
    password: 16位授权码 # 邮箱授权码（不是登录密码，请修改）
    default-encoding: UTF-8
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000

# MyBatis配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.studyplanner.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# LLM API配置 (系统默认使用SiliconFlow)
llm:
  api:
    # 系统提供的API配置（登录用户使用）
    provider: siliconflow
    base-url: https://api.siliconflow.cn/v1
    api-key: sk-afmskzvlextgugkpsbpmkbeqyhlttmwiguvdehcdryhqtjra
    model: Qwen/Qwen3-8B
    max-tokens: 4096
    temperature: 0.4
    mock-mode: false # 设为true使用模拟数据，false使用真实API
    # 可选模型列表
    available-models:
      - Qwen/Qwen3-8B
      - THUDM/GLM-4-9B-0414
      - deepseek-ai/DeepSeek-V3
      - deepseek-ai/DeepSeek-R1-0528

# 文件上传配置
file:
  upload:
    path: uploads # 上传文件存储目录
    url-prefix: /uploads # 访问URL前缀

# Spring文件上传限制
spring.servlet.multipart:
  enabled: true
  max-file-size: 5MB
  max-request-size: 10MB

# 日志配置
logging:
  level:
    com.studyplanner: debug
    org.springframework.web: info
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
